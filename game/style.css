.side-panel-mode-cycler {
	display: block;
	width: 100%;
	background: none;
	border: 2px solid rgba(122,226,255,0.18);
	border-radius: 14px;
	padding: 0;
	margin: 0 auto 8px auto;
	cursor: pointer;
	transition: border-color 0.2s, box-shadow 0.2s;
	box-shadow: 0 2px 12px rgba(0,0,0,0.18);
	outline: none;
}
.side-panel-mode-cycler:focus, .side-panel-mode-cycler:active {
	border-color: var(--accent,#7defff);
	box-shadow: 0 0 16px rgba(122,226,255,0.35);
}
.mode-cycler-img {
	width: 100%;
	max-width: 240px;
	min-width: 180px;
	height: 96px;
	object-fit: cover;
	border-radius: 16px;
	background: #0a1628;
	display: block;
	margin: 0 auto;
	box-shadow: 0 4px 24px rgba(0,0,0,0.25);
}

.side-panel-mode-cycler {
	display: flex;
	justify-content: center;
	align-items: center;
	width: auto;
	min-width: unset;
	max-width: unset;
	min-height: unset;
	padding: 0;
	margin: 0 auto 12px auto;
	border-radius: 18px;
	border-width: 0;
	background: none;
	box-shadow: none;
}
.side-panel-modes {
	display: flex;
	flex-direction: row;
	gap: 10px;
	justify-content: flex-start;
	margin-bottom: 6px;
}

.side-panel-mode-btn {
	background: none;
	border: 2px solid rgba(122,226,255,0.18);
	border-radius: 10px;
	padding: 4px;
	cursor: pointer;
	transition: border-color 0.2s, box-shadow 0.2s;
	box-shadow: 0 2px 8px rgba(0,0,0,0.18);
	outline: none;
}
.side-panel-mode-btn.selected, .side-panel-mode-btn:focus {
	border-color: var(--accent,#7defff);
	box-shadow: 0 0 12px rgba(122,226,255,0.35);
}
.side-panel-mode-btn:hover {
	border-color: #fff;
}
.mode-img {
	width: 44px;
	height: 44px;
	object-fit: contain;
	border-radius: 8px;
	background: #0a1628;
	display: block;
}
/* Random ship card styling */
.ship-card-img-random {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 110px;
	height: 110px;
	background: linear-gradient(135deg, #222 60%, #444 100%);
	border-radius: 12px;
	margin: 0 auto 8px auto;
	box-shadow: 0 2px 12px rgba(0,0,0,0.18);
}
.random-qmark {
	font-size: 5em;
	color: #7ae2ff;
	font-family: 'Orbitron', 'Aldrich', sans-serif;
	font-weight: bold;
	text-shadow: 0 2px 16px #222, 0 0 18px #7ae2ff88;
	line-height: 1;
}
.ship-card-img-sprite {
	cursor: pointer;
	outline: none;
	border-radius: 50%;
	box-shadow: 0 0 0 0px #7ae2ff;
	transition: box-shadow 0.2s;
}
.ship-card-img-sprite:focus {
	box-shadow: 0 0 0 3px #7ae2ff;
}
/* Subfaction modal styles */
#subfaction-modal.overlay {
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 100;
	position: fixed;
	top: 0; left: 0; right: 0; bottom: 0;
	width: 100vw;
	height: 100vh;
	background: rgba(10,18,32,0.92);
}
#subfaction-modal-card {
	background: rgba(10,18,32,0.98);
	border-radius: 28px;
	padding: 48px 64px;
	box-shadow: 0 20px 80px rgba(0,0,0,0.95);
	max-width: 1100px;
	min-width: 700px;
	min-height: 520px;
	width: 80vw;
	text-align: center;
	display: flex;
	flex-direction: column;
	align-items: center;
}
#subfaction-modal-title {
	font-size: 2.2em;
	color: var(--accent);
	margin-bottom: 32px;
	letter-spacing: 0.04em;
}
#subfaction-modal-options {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	gap: 32px;
	margin-bottom: 32px;
	justify-content: center;
	width: 100%;
}
#subfaction-modal-options button {
	padding: 16px 0;
	border-radius: 12px;
	background: linear-gradient(120deg,#1b2126,#2b3136);
	color: var(--accent);
	font-size: 1.25em;
	cursor: pointer;
	border: 1.5px solid #7ae2ff;
	transition: background 0.2s;
	width: 100%;
	max-width: 180px;
}
#subfaction-modal-options button:hover {
	background: linear-gradient(120deg,#2b3136,#1b2126);
}
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Space+Grotesk:wght@400;500&family=Aldrich&display=swap');
:root{
	--ui-bg:rgba(8,14,25,0.85);
	--panel:rgba(12,18,32,0.78);
	--accent:#7ae2ff;
	--accent-strong:#00f7ff;
	--text:#dfe9ff;
	--glow:#1b9fff;
	--glass-border:rgba(255,255,255,0.18);
	--hud-width:302px;
	--metal-dark:#0b1118;
	--metal-mid:#1f2a36;
	--metal-light:#3f4d5c;
	--hud-amber:#ffb347;
	--hud-red:#f25b5b;
	--hud-green:#6bffb2;
	--readout-font:'Aldrich','Orbitron',sans-serif;
}
#root,*{box-sizing:border-box;font-family:'Space Grotesk',Arial,Helvetica,sans-serif}
html,body{height:100%;margin:0;background:#01040b;color:var(--text)}
body{background-image:radial-gradient(circle at 20% 20%,rgba(18,80,120,0.35),transparent 45%),radial-gradient(circle at 80% 0,rgba(120,30,150,0.25),transparent 45%),linear-gradient(120deg,#050912,#080f1d 45%,#050912);}
#game{display:block;position:absolute;left:10px;top:12px;border-radius:26px;background:radial-gradient(circle at 35% 25%,rgba(45,110,190,0.35),transparent 55%),radial-gradient(circle at 70% 15%,rgba(160,70,180,0.3),transparent 60%),radial-gradient(circle at 60% 80%,rgba(0,130,200,0.25),transparent 60%),#02050b;border:1px solid rgba(120,150,255,0.15);box-shadow:0 20px 45px rgba(0,0,0,0.7),0 0 30px rgba(40,90,190,0.25);overflow:hidden;transition:opacity 0.35s ease, filter 0.35s ease, transform 0.35s ease}
#game::before{content:'';position:absolute;inset:0;background:
	repeating-radial-gradient(circle at 8% 12%,rgba(255,255,255,0.28) 0 1px,transparent 1px 18px),
	repeating-radial-gradient(circle at 72% 32%,rgba(255,255,255,0.18) 0 1px,transparent 1px 22px),
	repeating-radial-gradient(circle at 40% 78%,rgba(255,255,255,0.14) 0 1px,transparent 1px 20px);
opacity:0.7;pointer-events:none;mix-blend-mode:screen}
#game::after{content:'';position:absolute;inset:0;background:
	repeating-linear-gradient(0deg,rgba(70,110,190,0.08),rgba(70,110,190,0.08) 1px,transparent 1px 48px),
	repeating-linear-gradient(90deg,rgba(70,110,190,0.08),rgba(70,110,190,0.08) 1px,transparent 1px 52px),
	linear-gradient(180deg,rgba(0,0,0,0) 0 70%,rgba(0,0,0,0.65));
opacity:0.55;pointer-events:none}
#ui{position:absolute;right:16px;left:auto;top:12px;margin-left:auto;color:var(--text);z-index:20;width:var(--hud-width);min-height:calc(100vh - 24px);padding:10px 12px;border-radius:22px;background:linear-gradient(160deg,var(--metal-dark),var(--metal-mid) 45%,#10151f 100%);border:1px solid var(--glass-border);box-shadow:0 30px 65px rgba(0,0,0,0.7),inset 0 1px 0 rgba(255,255,255,0.08);overflow:hidden;position:relative;display:flex;flex-direction:column;gap:8px;transition:opacity 0.35s ease, filter 0.35s ease, transform 0.35s ease}
body.menu-active{overflow:hidden}

.event-test-panel{
	position:absolute;
	left:18px;
	bottom:18px;
	z-index:30;
	width:240px;
	padding:12px 12px;
	border-radius:14px;
	background:var(--panel);
	border:1px solid var(--glass-border);
	box-shadow:0 16px 32px rgba(0,0,0,0.55);
	backdrop-filter:blur(8px);
	color:var(--text);
	font-family:var(--readout-font);
	opacity:0.92;
}
.event-test-panel.hidden{
	display:none;
}

.grid-secret-trigger{
	cursor:default;
	text-decoration:none;
	color:inherit;
	outline:none;
	user-select:none;
	-webkit-tap-highlight-color:transparent;
}
.grid-secret-trigger:focus,
.grid-secret-trigger:active,
.grid-secret-trigger:hover{
	text-decoration:none;
	color:inherit;
}
.event-test-header{
	display:flex;
	align-items:center;
	justify-content:space-between;
	gap:10px;
}
.event-test-title{
	font-size:12px;
	letter-spacing:0.04em;
	color:var(--accent);
	margin-bottom:6px;
}
.event-test-toggle{
	flex:0 0 auto;
	padding:6px 10px;
	border-radius:999px;
	border:1px solid var(--glass-border);
	background:rgba(255,255,255,0.06);
	color:var(--text);
	cursor:pointer;
	font-size:10px;
	letter-spacing:0.08em;
	text-transform:uppercase;
}
.event-test-toggle:hover{
	background:rgba(255,255,255,0.1);
}
.event-test-content{
	margin-top:2px;
}
.event-test-panel.is-collapsed{
	width:170px;
	padding:10px 10px;
}
.event-test-panel.is-collapsed .event-test-content{
	display:none;
}
.event-test-panel.is-collapsed .event-test-title{
	margin-bottom:0;
}
.event-test-row{
	font-size:12px;
	margin-bottom:10px;
}
.event-test-actions{
	display:flex;
	gap:8px;
}
.event-test-actions button{
	flex:1;
	padding:8px 10px;
	border-radius:10px;
	border:1px solid var(--glass-border);
	background:rgba(255,255,255,0.06);
	color:var(--text);
	cursor:pointer;
	font-size:11px;
}
.event-test-actions button:hover{
	background:rgba(255,255,255,0.1);
}
body.menu-active #game,
body.menu-active #ui{opacity:0;pointer-events:none;filter:blur(14px);transform:translateY(20px) scale(0.98)}
#ui::before,#ui::after{content:'';position:absolute;border-radius:18px;pointer-events:none}
#ui::before{inset:0;border-radius:22px;background:
	radial-gradient(circle at 6% 12%,rgba(255,255,255,0.08) 0,transparent 32%),
	radial-gradient(circle at 94% 18%,rgba(255,255,255,0.06) 0,transparent 36%),
	linear-gradient(120deg,rgba(255,255,255,0.02),transparent 40%);
mix-blend-mode:screen;opacity:0.65;animation:panelSheen 10s linear infinite}
#ui::after{inset:12px;border-radius:16px;border:1px solid rgba(255,255,255,0.05);box-shadow:inset 0 0 0 1px rgba(0,0,0,0.55);background:
	radial-gradient(circle,rgba(255,255,255,0.18) 0 22%,transparent 24%) 14px 14px/120px 120px,
	radial-gradient(circle,rgba(255,255,255,0.12) 0 18%,transparent 20%) 74px 74px/120px 120px,
	linear-gradient(140deg,rgba(255,255,255,0.03),rgba(0,0,0,0));}
#ui > *{position:relative;z-index:2}
@keyframes panelSheen{0%{transform:translateX(-20%);}100%{transform:translateX(20%);}}
button{background:linear-gradient(135deg,rgba(5,25,45,0.95),rgba(30,70,110,0.9));color:var(--text);border:1px solid rgba(122,226,255,0.3);padding:10px 16px;border-radius:999px;cursor:pointer;text-transform:uppercase;font-family:'Orbitron',sans-serif;font-size:12px;letter-spacing:0.12em;box-shadow:0 8px 18px rgba(0,0,0,0.55),0 0 12px rgba(26,150,255,0.2);transition:transform 0.2s, box-shadow 0.2s, border-color 0.2s;position:relative;overflow:hidden}
button::after{content:'';position:absolute;inset:0;background:linear-gradient(120deg,rgba(255,255,255,0.28),rgba(255,255,255,0) 40%);mix-blend-mode:screen;opacity:0;transition:opacity 0.2s}
button:hover{transform:translateY(-2px);box-shadow:0 12px 24px rgba(0,0,0,0.6),0 0 18px rgba(122,226,255,0.45);border-color:rgba(122,226,255,0.65)}
button:hover::after{opacity:1}
button:focus-visible{outline:2px solid var(--accent);outline-offset:3px}
#ui h1{font-family:'Orbitron',sans-serif;letter-spacing:0.12em;text-transform:uppercase;font-size:12px;color:var(--accent);margin:0 0 4px 0;text-shadow:0 0 18px rgba(122,226,255,0.4);white-space:nowrap}
#ui h1{margin:0 0 4px 0;font-size:12px;color:var(--accent);white-space:nowrap}
.small{font-size:13px;color:#a9bbd9}

/* Right-side HUD panel */
/* HUD: metallic/silver sci-fi panel */
#hud{display:flex;gap:8px;align-items:flex-start;margin-top:6px;padding:8px;border-radius:8px;background:linear-gradient(180deg,#1b2126 0%,#2b3136 30%,#3b4146 100%);border:1px solid #6f7880;box-shadow:0 6px 18px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.04)}
/* right panel already styled above */

/* avatar frame: polished metal border with inner bevel */
#avatar-wrap{width:88px;height:88px;background:linear-gradient(180deg,#0b1116,#1a2026);border-radius:6px;display:flex;align-items:center;justify-content:center;overflow:hidden;flex:0 0 88px;border:2px solid #8ea1ad;box-shadow: inset 0 2px 6px rgba(255,255,255,0.03), 0 4px 10px rgba(0,0,0,0.6);position:relative}
#avatar-wrap:after{content:'';position:absolute;width:86px;height:86px;border-radius:4px;left:6px;top:6px;pointer-events:none;background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0));mix-blend-mode:overlay}
#avatar-img{display:block;width:100%;height:100%;max-width:none;max-height:none;object-fit:cover;object-position:center;image-rendering:auto}
#avatar-wrap.signal-lost{background:#050a10;border-color:#c44;box-shadow:0 0 18px rgba(255,0,0,0.25), inset 0 0 12px rgba(255,0,0,0.12)}
#avatar-wrap.signal-lost img{opacity:0}
#avatar-wrap.signal-lost:before{content:'';position:absolute;inset:0;background:
	repeating-linear-gradient(180deg,rgba(255,255,255,0.08) 0,rgba(255,255,255,0.02) 3px,transparent 6px),
	repeating-linear-gradient(90deg,rgba(0,0,0,0.12) 0,rgba(0,0,0,0.12) 2px,transparent 4px);
animation: tvNoise 0.22s steps(2) infinite;mix-blend-mode:screen;opacity:0.8}
#avatar-wrap.signal-lost:after{content:'SIGNAL LOST';position:absolute;left:6px;top:6px;right:6px;bottom:6px;display:flex;align-items:center;justify-content:center;font-size:11px;letter-spacing:2px;color:#ff7575;background:rgba(5,0,0,0.35);text-shadow:0 0 6px rgba(255,0,0,0.8);padding:0 6px;text-align:center}
/* mirror static styling for generic enemy avatar wrapper when signal lost */
.avatar-wrap.signal-lost{background:#050a10;border-color:#c44;box-shadow:0 0 18px rgba(255,0,0,0.25), inset 0 0 12px rgba(255,0,0,0.12)}
.avatar-wrap.signal-lost img{opacity:0}
.avatar-wrap.signal-lost:before{content:'';position:absolute;inset:0;background:
	repeating-linear-gradient(180deg,rgba(255,255,255,0.08) 0,rgba(255,255,255,0.02) 3px,transparent 6px),
	repeating-linear-gradient(90deg,rgba(0,0,0,0.12) 0,rgba(0,0,0,0.12) 2px,transparent 4px);
animation: tvNoise 0.22s steps(2) infinite;mix-blend-mode:screen;opacity:0.8}
.avatar-wrap.signal-lost:after{content:'SIGNAL LOST';position:absolute;left:6px;top:6px;right:6px;bottom:6px;display:flex;align-items:center;justify-content:center;font-size:11px;letter-spacing:2px;color:#ff7575;background:rgba(5,0,0,0.35);text-shadow:0 0 6px rgba(255,0,0,0.8);padding:0 6px;text-align:center}
/* Hacked state: keep avatar image visible but overlay static noise (no "SIGNAL LOST" text) */
.avatar-wrap.hacked{background:#050a10;border-color:#c44;box-shadow:0 0 18px rgba(255,0,0,0.18), inset 0 0 8px rgba(255,0,0,0.06)}
.avatar-wrap.hacked img{opacity:1;filter:contrast(0.9) saturate(0.8) drop-shadow(0 0 6px rgba(220,60,60,0.12))}
.avatar-wrap.hacked:before{content:'';position:absolute;inset:0;background:
	repeating-linear-gradient(180deg,rgba(255,255,255,0.06) 0,rgba(255,255,255,0.02) 3px,transparent 6px),
	repeating-linear-gradient(90deg,rgba(0,0,0,0.06) 0,rgba(0,0,0,0.06) 2px,transparent 4px);animation: tvNoise 0.18s steps(2) infinite;mix-blend-mode:screen;opacity:0.55}
.avatar-wrap.hacked:after{content:'';position:absolute;inset:0;pointer-events:none}

/* Make the hacked avatar image fill the entire portrait frame for both enemy and player wrappers */
.avatar-wrap.hacked img,
#avatar-wrap.hacked img {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
	object-position: center;
}
@keyframes tvNoise{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(-10px,6px,0)}}
/* generic avatar wrapper for enemy */
.avatar-wrap{width:88px;height:88px;background:linear-gradient(180deg,#0b1116,#1a2026);border-radius:6px;display:flex;align-items:center;justify-content:center;overflow:hidden;flex:0 0 88px;border:2px solid #8ea1ad;box-shadow: inset 0 2px 6px rgba(255,255,255,0.03), 0 4px 10px rgba(0,0,0,0.6);position:relative}
.avatar-wrap:after{content:'';position:absolute;width:78px;height:78px;border-radius:4px;left:5px;top:5px;pointer-events:none;background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0));mix-blend-mode:overlay}
.avatar-wrap img{display:block;width:100%;height:100%;max-width:none;max-height:none;object-fit:cover;object-position:center;image-rendering:auto}

/* Crew/Battery column layout */
.metric-stack{display:flex;flex-direction:column;align-items:center;gap:5px;width:68px;padding:9px;border-radius:10px;flex-shrink:0;background:linear-gradient(180deg,rgba(8,12,18,0.9),rgba(3,5,8,0.95));border:1px solid rgba(255,255,255,0.08);position:relative;box-shadow:inset 0 1px 0 rgba(255,255,255,0.1)}
.metric-stack::before{content:'';position:absolute;inset:4px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);pointer-events:none;box-shadow:inset 0 0 18px rgba(0,0,0,0.8)}
.metric-stack > *{position:relative;z-index:1}
.metric-label{font-size:8px;letter-spacing:0.45px;color:#7e94b5;text-transform:uppercase;font-family:var(--readout-font);position:relative;padding:2px 6px;border-radius:999px;border:1px solid rgba(255,255,255,0.08);background:linear-gradient(180deg,#0a121a,#030608);box-shadow:0 0 8px rgba(122,226,255,0.35);animation:ledBlink 3s ease-in-out infinite;align-self:center;width:calc(100% - 12px);text-align:center;margin:0 auto;display:flex;justify-content:center;align-items:center;transform:translateX(-1px)}
.metric-label::before{content:'';position:absolute;inset:0;border-radius:999px;border:1px solid rgba(255,255,255,0.12);pointer-events:none}
.metric-value{font-size:10px;color:#a8bedc;white-space:nowrap;font-family:var(--readout-font);letter-spacing:0.08em}
@keyframes ledBlink{0%,100%{box-shadow:0 0 6px rgba(122,226,255,0.35);}50%{box-shadow:0 0 10px rgba(122,226,255,0.8);}}
.portrait-stack{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100px}
.crew-bar,.battery-grid{display:grid;grid-template-columns:repeat(2,12px);grid-auto-rows:12px;gap:3px;padding:5px;border-radius:9px;background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(5,10,15,0.9));border:1px solid rgba(255,255,255,0.06);box-shadow:inset 0 0 18px rgba(0,0,0,0.8)}
.crew-seg{width:12px;height:12px;background:linear-gradient(180deg,#0ed05b,#067a33);border-radius:4px;border:1px solid rgba(14,208,91,0.4);box-shadow:inset 0 1px 0 rgba(255,255,255,0.15),0 0 6px rgba(14,208,91,0.5);position:relative;overflow:hidden}
.crew-seg::after{content:'';position:absolute;inset:2px;border-radius:3px;background:linear-gradient(180deg,rgba(255,255,255,0.2),rgba(255,255,255,0));opacity:0.8}
.crew-seg.empty{background:linear-gradient(180deg,#19221a,#0f1512);border:1px solid #262826;box-shadow:none;opacity:0.35}
.battery-grid{gap:4px}
.battery-seg{width:12px;height:12px;background:linear-gradient(180deg,#ff5a37,#6b0d0d);border-radius:4px;border:1px solid rgba(255,90,55,0.4);box-shadow:inset 0 1px 0 rgba(255,255,255,0.08),0 0 6px rgba(255,90,55,0.4);position:relative}
.battery-seg::after{content:'';position:absolute;inset:2px;border-radius:3px;background:linear-gradient(180deg,rgba(255,255,255,0.18),rgba(255,255,255,0));opacity:0.7}
.battery-seg.drained{background:linear-gradient(180deg,#2a1010,#140808);border:1px solid #211010;opacity:0.35;box-shadow:none}

/* Stack UI panels vertically in the right column */
#ui > *{display:block}
.control-bar{display:grid;grid-template-columns:repeat(2,1fr);gap:6px;padding:6px 8px;border-radius:999px;background:linear-gradient(180deg,#262f3a,#111820);border:1px solid rgba(255,255,255,0.08);box-shadow:0 10px 24px rgba(0,0,0,0.5),inset 0 1px rgba(255,255,255,0.08);position:relative;overflow:hidden}
.control-bar::before{content:'';position:absolute;left:50%;top:8px;bottom:8px;width:2px;background:linear-gradient(180deg,rgba(255,255,255,0.28),rgba(0,0,0,0.4));mix-blend-mode:screen;pointer-events:none}
.control-bar::after{content:'';position:absolute;inset:0;border-radius:999px;box-shadow:inset 0 0 18px rgba(0,0,0,0.55);pointer-events:none}
.control-bar button{flex:1;background:linear-gradient(145deg,#0d2133,#193551);text-align:center;letter-spacing:0.1em;padding:6px 10px;font-size:10px}

.side-panel{background:linear-gradient(165deg,rgba(12,18,32,0.9),rgba(6,8,14,0.85));border:1px solid rgba(255,255,255,0.08);padding:10px;border-radius:14px;backdrop-filter:blur(12px);box-shadow:0 14px 35px rgba(0,0,0,0.55);position:relative;overflow:hidden}
.side-panel::before{content:'';position:absolute;inset:0;border-radius:14px;border:1px solid rgba(255,255,255,0.05);pointer-events:none;box-shadow:inset 0 0 24px rgba(0,0,0,0.45)}
.side-panel::after{content:'';position:absolute;inset:0;border-radius:14px;background:
	repeating-linear-gradient(0deg,rgba(120,150,255,0.05) 0,transparent 3px),
	repeating-linear-gradient(90deg,rgba(120,150,255,0.03) 0,transparent 60px);
mix-blend-mode:screen;opacity:0.5;pointer-events:none}
.panel-title{font-weight:600;color:var(--accent);font-size:12px;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px;font-family:var(--readout-font);display:flex;justify-content:space-between;align-items:center}
.panel-title::after{content:'';flex:1;height:1px;margin-left:8px;background:linear-gradient(90deg,var(--accent),transparent);opacity:0.35}
.ship-display{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:8px;padding:8px 10px;background:linear-gradient(145deg,rgba(4,7,12,0.95),rgba(15,25,38,0.92));border:1px solid rgba(122,226,255,0.12);border-radius:14px;box-shadow:inset 0 0 18px rgba(0,0,0,0.5)}
.ship-focus{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;text-align:center}
.race-tag{font-size:11px;letter-spacing:1.2px;color:#9bb1d4;text-transform:uppercase;background:linear-gradient(120deg,rgba(122,226,255,0.22),rgba(0,0,0,0));padding:3px 12px;border-radius:999px;border:1px solid rgba(122,226,255,0.25);font-family:var(--readout-font)}
.ship-preview{width:82px;height:82px;border-radius:50%;background:radial-gradient(circle at 40% 30%,rgba(120,170,255,0.45),rgba(5,10,16,0.95));display:flex;align-items:center;justify-content:center;border:1px solid rgba(122,226,255,0.25);box-shadow:0 0 18px rgba(122,226,255,0.25),inset 0 8px 18px rgba(0,0,0,0.6);position:relative;overflow:hidden}
.ship-preview::after{content:'';position:absolute;inset:10%;border-radius:50%;border:1px solid rgba(255,255,255,0.08);box-shadow:0 0 18px rgba(122,226,255,0.3);animation:radarSweep 4s linear infinite}
.ship-preview img{max-width:82%;max-height:82%;image-rendering:pixelated}
.ship-model{font-size:11px;color:#9bb1d4;letter-spacing:0.5px}
.captain-name{font-size:12px;color:var(--accent);font-weight:bold;text-transform:capitalize}
.status-indicators{width:100%;display:flex;flex-direction:column;gap:3px}
.status-indicator{display:none;align-items:center;gap:8px;width:100%;margin-top:2px;padding:6px 8px;border-radius:7px;background:rgba(12,28,18,0.7);border:1px solid rgba(98,188,126,0.55);box-shadow:inset 0 0 8px rgba(0,0,0,0.45)}
.status-indicator.active{display:flex}
.status-icon{font-size:18px;line-height:1}
.status-body{display:flex;flex-direction:column;align-items:flex-start;gap:2px;flex:1}
.status-title{font-size:10px;letter-spacing:0.6px;color:#c3ffd9;text-transform:uppercase}
.status-title span{font-size:10px;color:#fff;margin-left:4px}
.status-meter{width:100%;height:8px;border-radius:4px;background:rgba(4,9,6,0.65);border:1px solid rgba(84,150,90,0.9);overflow:hidden}
.status-meter span{display:block;height:100%;width:0%;background:linear-gradient(90deg,#7fffa4,#33c96c)}
.panel-body{padding:8px;border-radius:12px;background:
	radial-gradient(circle at 20% 20%,rgba(122,226,255,0.1),transparent 55%),
	rgba(4,7,11,0.65);
display:flex;justify-content:center;border:1px solid rgba(255,255,255,0.05);box-shadow:inset 0 0 12px rgba(0,0,0,0.5)}

@keyframes radarSweep{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}

.menu-overlay {
	position: fixed;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 0;
	z-index: 80;
	transition: opacity 0.25s ease, visibility 0.25s ease;
	background: none;
}

#main-menu {
	background:
		linear-gradient(rgba(3,6,12,0.55),rgba(3,6,12,0.55)),
		url('../main_menu_background.png') center center/cover no-repeat;
	position: fixed;
	inset: 0;
	z-index: 80;
	display: flex;
	align-items: center;
	justify-content: center;
}
.menu-overlay.hidden{opacity:0;visibility:hidden;pointer-events:none}
.menu-overlay .menu-card{display:none}
.menu-fullscreen {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 100vh;
	width: 100vw;
	position: absolute;
	top: 0; left: 0; right: 0; bottom: 0;
	z-index: 2;
	background: none !important;
	box-shadow: none !important;
	border: none !important;
	padding: 0;
}
.menu-title {
	font-family: 'Orbitron',sans-serif;
	font-size: 3.2rem;
	letter-spacing: 0.35em;
	margin: 0 0 18px 0;
	color: var(--accent, #7defff);
	text-transform: uppercase;
	text-shadow: 0 0 32px #7defff, 0 0 18px rgba(122,226,255,0.4), 0 0 48px #000;
	background: none;
	border: none;
}
.menu-subtitle {
	margin: 0 0 32px 0;
	color: #a9bbd9;
	font-size: 1.2rem;
	line-height: 1.5;
	text-align: center;
	text-shadow: 0 0 12px #000, 0 0 24px #000;
	background: none;
	border: none;
}
.menu-actions-full {
	display: flex;
	flex-wrap: wrap;
	gap: 32px;
	justify-content: center;
	align-items: center;
	background: none !important;
	box-shadow: none !important;
	border: none !important;
}
.menu-actions-full button {
	font-size: 1.3rem;
	padding: 28px 44px;
	border-radius: 18px;
	background: rgba(8,14,25,0.55);
	border: 2px solid rgba(122,226,255,0.18);
	color: #dfe9ff;
	font-family: 'Orbitron',sans-serif;
	letter-spacing: 0.18em;
	text-transform: uppercase;
	box-shadow: 0 6px 18px rgba(0,0,0,0.35);
	transition: background 0.2s, border-color 0.2s, color 0.2s, transform 0.15s;
	margin: 0 12px 0 12px;
	background-blend-mode: lighten;
}
.menu-actions-full button:hover, .menu-actions-full button:focus {
	background: rgba(0,200,255,0.22);
	color: #fff;
	border-color: var(--accent,#7defff);
	transform: translateY(-4px) scale(1.04);
}
body.menu-docked .menu-overlay{position:absolute;left:10px;top:12px;right:calc(var(--hud-width) + 34px);bottom:12px;padding:40px;border-radius:28px;background:linear-gradient(145deg,rgba(6,12,22,0.96),rgba(14,22,40,0.9));border:1px solid rgba(122,226,255,0.18);box-shadow:0 35px 80px rgba(0,0,0,0.85),inset 0 1px 0 rgba(255,255,255,0.05);z-index:50;backdrop-filter:blur(10px)}
body.menu-docked .menu-overlay.hidden{display:none}
body.menu-docked .menu-card{max-width:none;height:100%;border-radius:20px;padding:48px 56px;align-items:flex-start;justify-content:flex-start;text-align:left;gap:22px}
body.menu-docked .menu-card::before{inset:24px;border-radius:16px}
body.menu-docked .menu-card::after{display:none}
body.menu-docked .menu-title{font-size:34px;letter-spacing:0.4em}
body.menu-docked .menu-subtitle{max-width:520px;font-size:16px;line-height:1.7}
body.menu-docked .menu-actions{width:100%;flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:14px;margin-top:auto;padding:24px;border-radius:18px;background:linear-gradient(160deg,rgba(12,20,36,0.9),rgba(6,10,18,0.92));box-shadow:inset 0 0 22px rgba(0,0,0,0.45)}
body.menu-docked .menu-actions button{font-size:14px;padding:16px 18px}
.menu-card{background:linear-gradient(165deg,rgba(5,10,18,0.96),rgba(8,16,32,0.92));border:1px solid rgba(122,226,255,0.24);box-shadow:0 30px 70px rgba(0,0,0,0.8),inset 0 1px 0 rgba(255,255,255,0.1);border-radius:18px;padding:40px 44px;display:flex;flex-direction:column;gap:18px;max-width:460px;width:100%;text-align:center;position:relative;overflow:hidden}
.menu-card > *{position:relative;z-index:1}
.menu-card::before{content:'';position:absolute;inset:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);box-shadow:inset 0 0 28px rgba(0,0,0,0.45);pointer-events:none}
.menu-card::after{content:'';position:absolute;inset:0;border-radius:18px;border:1px solid rgba(255,255,255,0.04);pointer-events:none}
.menu-title{font-family:'Orbitron',sans-serif;font-size:28px;letter-spacing:0.35em;margin:0;color:var(--accent);text-transform:uppercase;text-shadow:0 0 18px rgba(122,226,255,0.4)}
.menu-subtitle{margin:0;color:#a9bbd9;font-size:14px;line-height:1.5}
.menu-actions{width:100%}
.menu-overlay .menu-actions{padding:0;margin:14px 0 0 0;display:flex;flex-direction:column;gap:8px;border-radius:14px;border:1px solid rgba(255,255,255,0.06);background:linear-gradient(180deg,rgba(14,24,42,0.85),rgba(6,10,18,0.9));box-shadow:inset 0 0 22px rgba(0,0,0,0.45)}
.menu-overlay .menu-actions button{font-size:12px;padding:12px 16px;width:100%;border:0;border-radius:10px;background:linear-gradient(120deg,rgba(22,44,78,0.95),rgba(10,18,36,0.95));box-shadow:0 10px 20px rgba(0,0,0,0.45)}
.menu-overlay .menu-actions button:hover{transform:translateY(-1px)}

.overlay{position:fixed;inset:0;background:radial-gradient(circle at 20% 20%,rgba(15,40,80,0.6),rgba(3,6,12,0.95));display:flex;align-items:center;justify-content:center;z-index:40;padding:30px;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}
.overlay.hidden{display:none}
.overlay-card{background:rgba(6,10,18,0.82);border:1px solid rgba(122,226,255,0.18);box-shadow:0 25px 65px rgba(0,0,0,0.9),inset 0 1px 0 rgba(255,255,255,0.1);border-radius:22px;padding:28px 32px;width:min(980px,92vw);max-height:90vh;overflow:auto;color:var(--text);text-align:center;position:relative}
.overlay-card::before{content:'';position:absolute;inset:18px;border-radius:18px;border:1px solid rgba(255,255,255,0.06);pointer-events:none}
.overlay-card h2{margin-top:0;color:var(--accent);font-family:'Orbitron',sans-serif;letter-spacing:0.2em;text-transform:uppercase;text-shadow:0 0 18px rgba(122,226,255,0.45)}
.overlay-card p{max-width:560px;margin:8px auto 18px auto;color:#9fb5d5}
.overlay-close{position:absolute;top:18px;right:22px;width:36px;height:36px;border-radius:50%;border:1px solid rgba(255,255,255,0.2);background:rgba(2,4,8,0.8);color:var(--accent);font-size:20px;font-family:'Orbitron',sans-serif;cursor:pointer;box-shadow:0 12px 24px rgba(0,0,0,0.55);z-index:3}
.overlay-close:hover{transform:scale(1.05)}
.profile-card,.lobby-card{padding-top:54px}
.profile-card .overlay-close,.lobby-card .overlay-close{top:14px}
.profile-card h2,.lobby-card h2{text-align:left}
.profile-status-banner{margin:12px 0;padding:10px 14px;border-radius:12px;background:rgba(10,18,32,0.8);border:1px solid rgba(255,255,255,0.08);font-family:'Orbitron',sans-serif;letter-spacing:0.12em;text-transform:uppercase;font-size:11px;color:#9fb5d5;text-align:center}
.profile-form{display:flex;flex-direction:column;gap:12px;text-align:left}
.profile-form label{display:flex;flex-direction:column;gap:6px;font-size:12px;color:#a9bbd9;text-transform:uppercase;letter-spacing:0.12em;font-family:'Orbitron',sans-serif}
.profile-form input{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.1);background:rgba(5,10,18,0.9);color:var(--text);font-size:14px}
.profile-error{min-height:18px;font-size:12px;color:#ff8a8a;text-transform:uppercase;letter-spacing:0.08em}
.profile-actions{display:flex;gap:12px;margin-top:4px}
.profile-actions button{flex:1}
.profile-footer{display:flex;justify-content:flex-end;margin-top:10px}
.profile-footer .ghost{min-width:140px}
.lobby-header{display:flex;justify-content:space-between;align-items:center;gap:18px;margin:6px 0 18px 0}
.lobby-pill{display:flex;align-items:center;gap:10px;padding:10px 16px;border-radius:999px;background:rgba(10,16,28,0.85);border:1px solid rgba(255,255,255,0.08);font-family:'Orbitron',sans-serif;font-size:12px;letter-spacing:0.15em;text-transform:uppercase}
.pill-link{background:rgba(0,0,0,0.2);border:1px solid rgba(255,255,255,0.1);padding:6px 12px;border-radius:999px;font-size:10px;letter-spacing:0.2em}
.lobby-header-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
.lobby-header-actions input{flex:1 0 180px;padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.1);background:rgba(4,8,14,0.9);color:var(--text);font-size:13px}
.lobby-body{display:grid;grid-template-columns:1fr;gap:20px}
.lobby-section{background:linear-gradient(165deg,rgba(4,8,14,0.92),rgba(10,18,32,0.85));border:1px solid rgba(255,255,255,0.08);border-radius:18px;padding:18px 20px;box-shadow:inset 0 0 18px rgba(0,0,0,0.35)}
.section-head{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px}
.section-head h3,.section-head h4{margin:0;font-family:'Orbitron',sans-serif;text-transform:uppercase;letter-spacing:0.18em;font-size:13px;color:var(--accent)}
.count-pill{padding:4px 10px;border-radius:999px;background:rgba(122,226,255,0.16);font-size:11px;letter-spacing:0.15em}
.lobby-list{display:grid;gap:10px}
.lobby-card-row{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-radius:12px;background:rgba(6,10,18,0.8);border:1px solid rgba(255,255,255,0.06)}
.lobby-card-row strong{font-family:'Orbitron',sans-serif;letter-spacing:0.12em;text-transform:uppercase;font-size:12px;color:var(--accent)}
.lobby-card-row .meta{font-size:12px;color:#9fb5d5}
.lobby-card-row button{min-width:120px}
.lobby-empty{text-align:center;color:#7d8ca8;font-size:13px;margin:20px 0 0 0}
.room-meta{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-bottom:14px}
.room-status{margin:2px 0 0 0;font-size:12px;color:#7d8ca8}
.room-actions{display:flex;gap:10px}
.room-players{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:16px}
.room-player{padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);background:rgba(4,8,14,0.85)}
.room-player-head{display:flex;justify-content:space-between;align-items:center;font-size:12px;letter-spacing:0.12em;text-transform:uppercase;color:#7a8db0;font-family:'Orbitron',sans-serif}
.room-player-head .label{font-size:10px;color:#9fb5d5}
.room-player-ready{margin-top:6px;font-size:12px;color:#f5d87a}
.room-player-fleet{margin-top:10px;display:flex;flex-wrap:wrap;gap:6px;font-size:11px;color:#a9bbd9}
.room-player-fleet span{padding:4px 8px;border-radius:8px;background:rgba(12,18,32,0.9);border:1px solid rgba(255,255,255,0.08)}
.room-fleet-config{margin-bottom:16px}
.fleet-form{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px}
.fleet-slot{display:flex;flex-direction:column;gap:4px;text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:0.1em;color:#9fb5d5;font-family:'Orbitron',sans-serif}
.fleet-slot select{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.08);background:rgba(4,8,14,0.9);color:var(--text);font-size:13px}
.room-fleet-actions{margin-top:12px;display:flex;justify-content:flex-end}
.room-chat{display:flex;flex-direction:column;gap:10px}
.chat-log{min-height:160px;max-height:220px;overflow-y:auto;padding:12px;border-radius:12px;background:rgba(2,6,12,0.85);border:1px solid rgba(255,255,255,0.06);font-size:12px;line-height:1.4;text-align:left}
.chat-log .chat-entry{margin-bottom:6px}
.chat-log .chat-entry strong{color:var(--accent);font-size:11px;margin-right:6px}
.chat-form{display:flex;gap:10px}
.chat-form input{flex:1;padding:10px;border-radius:999px;border:1px solid rgba(255,255,255,0.08);background:rgba(4,8,14,0.9);color:var(--text)}
.chat-form button{padding:10px 20px}
.pill-link,.ghost{font-size:11px}
.hidden{display:none !important}
.ship-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:18px;margin-top:18px}
.ship-card{position:relative;background:linear-gradient(160deg,rgba(8,14,25,0.95),rgba(18,26,42,0.8));border:1px solid rgba(122,226,255,0.12);border-radius:16px;padding:16px 12px;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:8px;color:var(--text);transition:transform 0.25s, border-color 0.25s, box-shadow 0.25s;min-height:180px;box-shadow:0 10px 28px rgba(0,0,0,0.6);overflow:hidden}
.ship-card:hover{transform:translateY(-6px);border-color:var(--accent);box-shadow:0 20px 40px rgba(0,0,0,0.7),0 0 18px rgba(122,226,255,0.35)}
.ship-card::before{content:'';position:absolute;inset:10px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);pointer-events:none}
.ship-card.selected{border-color:var(--accent);box-shadow:0 0 26px rgba(93,223,255,0.7),0 10px 32px rgba(0,0,0,0.6);animation:shipCardPulse 1.2s ease-in-out infinite}
.ship-card:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.ship-card-logo{position:absolute;top:10px;left:10px;width:34px;height:34px;border-radius:50%;border:1px solid rgba(255,255,255,0.12);background:linear-gradient(160deg,rgba(10,18,32,0.95),rgba(34,54,86,0.85));display:flex;align-items:center;justify-content:center;font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:0.1em;text-transform:uppercase;color:var(--accent);box-shadow:0 6px 16px rgba(0,0,0,0.45),inset 0 1px 0 rgba(255,255,255,0.05)}
.ship-card-logo span{pointer-events:none}
.ship-card-info{position:absolute;top:10px;right:10px;width:32px;height:32px;border-radius:50%;border:1px solid rgba(122,226,255,0.3);background:linear-gradient(140deg,rgba(10,25,40,0.9),rgba(40,80,120,0.85));color:var(--accent);font-family:'Orbitron',sans-serif;font-size:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 14px rgba(0,0,0,0.6);cursor:pointer;transition:transform 0.2s, box-shadow 0.2s, border-color 0.2s;z-index:3}
.ship-card-info:hover{transform:scale(1.05);box-shadow:0 10px 24px rgba(0,0,0,0.6),0 0 12px rgba(122,226,255,0.35);border-color:rgba(122,226,255,0.6)}
.ship-card-info:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.ship-card-img{width:92px;height:92px;background:radial-gradient(circle at 40% 30%,rgba(120,170,255,0.35),rgba(4,6,12,0.95));border-radius:50%;display:flex;align-items:center;justify-content:center;overflow:hidden;border:1px solid rgba(122,226,255,0.25);box-shadow:0 0 14px rgba(122,226,255,0.25)}
.ship-card-img img{max-width:85%;max-height:85%;image-rendering:pixelated}
.ship-card-name{font-weight:600;font-size:13px;letter-spacing:0.08em;text-transform:uppercase;font-family:'Orbitron',sans-serif;color:var(--accent)}
.ship-card-role{font-size:11px;color:#9fb5d5;text-transform:uppercase;letter-spacing:0.1em}
.ship-card small{font-size:10px;color:#89a;text-align:center}
.ship-card small strong{color:#fff}
.team-status{min-height:18px;margin:4px 0 12px 0;font-size:13px;color:#9fb5d5;letter-spacing:0.05em;text-transform:uppercase}
.fleet-builder{
	display:grid;
	grid-template-columns:1fr 1fr 260px;
	gap:14px;
	margin:10px 0 18px 0;
	align-items:start;
}
.fleet-side-panel {
	display: flex;
	flex-direction: column;
	gap: 22px;
	background: linear-gradient(160deg,rgba(10,18,32,0.95),rgba(34,54,86,0.85));
	border: 1px solid rgba(122,226,255,0.18);
	border-radius: 18px;
	padding: 24px 18px;
	min-width: 220px;
	max-width: 260px;
	box-shadow: 0 10px 32px rgba(0,0,0,0.45),inset 0 1px 0 rgba(255,255,255,0.05);
	color: #dfe9ff;
	font-family: 'Orbitron',sans-serif;
	margin-left: 10px;
}

.side-panel-section {
	display: flex;
	flex-direction: column;
	gap: 10px;
	align-items: stretch;
}

.side-panel-section h4 {
	margin: 0 0 6px 0;
	font-size: 13px;
	letter-spacing: 0.18em;
	text-transform: uppercase;
	color: var(--accent,#7defff);
	text-shadow: 0 0 8px rgba(122,226,255,0.25);
}

.side-panel-btn {
	font-size: 13px;
	padding: 12px 0;
	border-radius: 10px;
	border: 1px solid rgba(122,226,255,0.18);
	background: linear-gradient(120deg,rgba(22,44,78,0.95),rgba(10,18,36,0.95));
	color: #dfe9ff;
	margin-bottom: 4px;
	cursor: pointer;
	font-family: 'Orbitron',sans-serif;
	letter-spacing: 0.12em;
	text-transform: uppercase;
	box-shadow: 0 4px 12px rgba(0,0,0,0.25);
	transition: background 0.2s, border-color 0.2s, color 0.2s;
}
.side-panel-btn:hover, .side-panel-btn:focus {
	background: linear-gradient(120deg,rgba(0,200,255,0.95),rgba(10,18,36,0.95));
	color: #fff;
	border-color: var(--accent,#7defff);
}
.side-panel-btn.start-btn {
	font-size: 15px;
	font-weight: bold;
	background: linear-gradient(135deg,rgba(0,150,200,0.95),rgba(0,200,255,0.95));
	color: #fff;
	border-color: var(--accent,#7defff);
	box-shadow: 0 8px 24px rgba(0,180,255,0.25);
	margin-top: 10px;
}
.fleet-column{background:linear-gradient(165deg,rgba(5,9,16,0.9),rgba(10,18,32,0.85));border:1px solid rgba(122,226,255,0.15);border-radius:16px;padding:14px 16px;display:flex;flex-direction:column;gap:10px;box-shadow: inset 0 0 18px rgba(0,0,0,0.4)}
.fleet-column-head{display:flex;justify-content:space-between;align-items:center;gap:10px}
.fleet-column-head h3{margin:0;font-size:14px;letter-spacing:0.18em;text-transform:uppercase;font-family:'Orbitron',sans-serif;color:var(--accent)}
.fleet-count{font-size:11px;color:#7e94b5;letter-spacing:0.1em;text-transform:uppercase}
.fleet-roster{
	min-height:98px;
	display:grid;
	grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));
	gap:12px;
}
.roster-chip{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-radius:12px;background:linear-gradient(120deg,rgba(18,26,44,0.9),rgba(6,10,18,0.9));border:1px solid rgba(255,255,255,0.05);font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:0.08em;text-transform:uppercase;color:#dfe9ff;gap:12px}
.roster-chip-body{display:flex;align-items:center;gap:10px;flex:1;min-width:0}
.roster-chip-sprite{width:32px;height:32px;object-fit:contain;filter:drop-shadow(0 0 6px rgba(120,200,255,0.45));opacity:0.95}
.roster-chip-label{flex:1;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.roster-chip-controls{display:flex;gap:6px;margin-left:12px}
.roster-chip button{background:rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.15);color:#cfdfff;padding:3px 6px;border-radius:6px;font-size:10px;letter-spacing:0.1em;text-transform:uppercase;cursor:pointer}
.roster-chip button:hover{border-color:rgba(122,226,255,0.4)}
.roster-chip.active{border-color:rgba(122,226,255,0.6);background:linear-gradient(120deg,rgba(32,54,92,0.95),rgba(12,18,32,0.9));box-shadow:0 0 12px rgba(122,226,255,0.25)}
.roster-chip.selectable{cursor:pointer;transition:border-color 0.2s, box-shadow 0.2s}
.roster-chip.selectable:hover{border-color:rgba(122,226,255,0.4);box-shadow:0 6px 16px rgba(0,0,0,0.4)}
.roster-chip.selected{border-color:var(--accent);box-shadow:0 0 16px rgba(122,226,255,0.45)}
.roster-chip.empty{justify-content:center;color:#6f7d96;font-style:italic}
.roster-chip.empty span{text-align:center}
.overlay-actions #overlay-random{display:none}
.fleet-column-actions{display:flex;gap:8px}
.fleet-column-actions button{flex:1;font-size:11px;padding:10px;border-radius:999px;text-transform:uppercase;letter-spacing:0.2em}
.fleet-column-actions .ghost{background:rgba(6,8,12,0.6);border:1px solid rgba(255,255,255,0.08);box-shadow:none}
.fleet-tip{margin:0 0 14px 0;font-size:13px;color:#8ea4c5;text-align:center;letter-spacing:0.08em;text-transform:uppercase}
@keyframes shipCardPulse{0%{box-shadow:0 0 12px rgba(93,223,255,0.35);}100%{box-shadow:0 0 24px rgba(93,223,255,0.8);} }
.overlay-actions{margin-top:22px;display:flex;justify-content:center;gap:14px}
#overlay-cancel{background:linear-gradient(135deg,rgba(40,50,70,0.85),rgba(10,15,25,0.9));border-color:rgba(255,255,255,0.1)}
#overlay-start{background:linear-gradient(135deg,rgba(0,150,200,0.95),rgba(0,200,255,0.95));border-color:rgba(0,255,255,0.45);box-shadow:0 12px 24px rgba(0,180,255,0.35)}

.lore-popover{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:30px;background:radial-gradient(circle at 30% 20%,rgba(20,60,110,0.4),rgba(2,6,12,0.9));backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);z-index:60}
.lore-popover.hidden{display:none}
.lore-panel{position:relative;width:min(520px,92vw);background:rgba(5,10,18,0.92);border:1px solid rgba(122,226,255,0.2);border-radius:24px;padding:28px 34px 32px 34px;box-shadow:0 30px 70px rgba(0,0,0,0.8),inset 0 1px 0 rgba(255,255,255,0.08)}
.lore-panel::after{content:'';position:absolute;inset:18px;border-radius:20px;border:1px solid rgba(255,255,255,0.06);pointer-events:none}
.lore-panel h3{margin:0 0 12px 0;font-family:'Orbitron',sans-serif;font-size:18px;letter-spacing:0.16em;color:var(--accent);text-transform:uppercase;text-shadow:0 0 14px rgba(122,226,255,0.35)}
.lore-panel p{margin:0;color:#b5c7e6;line-height:1.6;font-size:14px}
.lore-close{position:absolute;top:16px;right:18px;width:34px;height:34px;border-radius:50%;border:1px solid rgba(255,255,255,0.25);background:rgba(4,12,22,0.9);color:var(--accent);font-size:20px;font-family:'Orbitron',sans-serif;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.6);transition:transform 0.2s, box-shadow 0.2s}
.lore-close:hover{transform:scale(1.05);box-shadow:0 12px 26px rgba(0,0,0,0.65),0 0 12px rgba(122,226,255,0.3)}
.lore-close:focus-visible{outline:2px solid var(--accent);outline-offset:3px}
